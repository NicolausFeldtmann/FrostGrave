class Char extends MoObject{

    IMAGES_WALKING = [
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_005.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_006.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_007.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_008.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_009.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_010.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_011.png'
    ];

    IMAGES_IDLE = [
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_005.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_006.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_007.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_008.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_009.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_010.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_011.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_012.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_013.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_014.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_015.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_016.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Idle Blinking/0_Skeleton_Warrior_Idle Blinking_017.png',
    ];

    IMAGES_JUMPING = [
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Jump Start/0_Skeleton_Warrior_Jump Start_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Jump Start/0_Skeleton_Warrior_Jump Start_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Jump Start/0_Skeleton_Warrior_Jump Start_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Jump Start/0_Skeleton_Warrior_Jump Start_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Jump Start/0_Skeleton_Warrior_Jump Start_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Jump Start/0_Skeleton_Warrior_Jump Start_005.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Falling Down/0_Skeleton_Warrior_Falling Down_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Falling Down/0_Skeleton_Warrior_Falling Down_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Falling Down/0_Skeleton_Warrior_Falling Down_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Falling Down/0_Skeleton_Warrior_Falling Down_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Falling Down/0_Skeleton_Warrior_Falling Down_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Falling Down/0_Skeleton_Warrior_Falling Down_005.png'
    ];

    IMAGES_HURT = [
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_005.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_006.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_007.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_008.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_009.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_010.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Hurt/0_Skeleton_Warrior_Hurt_011.png'
    ];

    IMAGES_DYING = [
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_005.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_006.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_007.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_008.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_009.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_010.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_011.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_012.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_013.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Dying/0_Skeleton_Warrior_Dying_014.png'
    ];

    IMAGES_SLASHING = [
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_005.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_006.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_007.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_008.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_009.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_010.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing/0_Skeleton_Warrior_Slashing_011.png',
    ];

    IMAGES_SLASH_MIDAIR = [
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_005.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_006.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_007.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_008.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_009.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_010.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Slashing in The Air/0_Skeleton_Warrior_Slashing in The Air_011.png',
    ];

    IMAGES_THROW = [
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_005.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_006.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_007.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_008.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_009.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_010.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing/0_Skeleton_Warrior_Throwing_011.png',
    ];

    IMAGES_THROW_MIDAIR = [
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_000.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_001.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_002.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_003.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_004.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_005.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_006.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_007.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_008.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_009.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_010.png',
        'img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Throwing in The Air/0_Skeleton_Warrior_Throwing in The Air_011.png',
    ];

    isCool = true;
    isAlive = true;
    world;
    speed = 10;

    offset = {
        top: 35,
        left: 25,
        right: 25,
        bottom: 25, 
    };
    //doSlash = false;
    slashTimeout;


    constructor(world) {
        super().loadImg('img/witheWalker/Skeleton_Warrior_1/PNG/PNG Sequences/Running/0_Skeleton_Warrior_Running_000.png');
        this.world = world;
        this.loadImages(this.IMAGES_WALKING);
        this.loadImages(this.IMAGES_JUMPING);
        this.loadImages(this.IMAGES_HURT);
        this.loadImages(this.IMAGES_DYING);
        this.loadImages(this.IMAGES_SLASHING);
        this.loadImages(this.IMAGES_SLASH_MIDAIR);
        this.loadImages(this.IMAGES_THROW);
        this.loadImages(this.IMAGES_THROW_MIDAIR);
        this.loadImages(this.IMAGES_IDLE);
        this.alppyGravity();
        this.animate();
    }

    /**
     * all character animations
     */
    animate() {
        
        if (this.isAlive) {
            this.animationInterval = setInterval(() => {
                /**
                 * set parameter for moving right
                 *  */ 
                if(this.world.keyboard.RIGHT && this.x < this.world.level.level_end_x) {
                    this.moveRight();
                }
                
                /**
                 * set parameter for moving left
                 */
                if(this.world.keyboard.LEFT && this.x > 100) {
                    this.moveLeft();
                }

                /**
                 * detects character moving leaft/rigth and plays walking animation and sounds
                 */
                if ((this.world.keyboard.RIGHT || this.world.keyboard.LEFT) && !this.isAboveGround()) {
                    this.playAnimation(this.IMAGES_WALKING);
                    world.snow1.play();
                    world.snow2.play();
                }

                /**
                 * detects if character is abouve grond and allows jump funktion
                 */
                if(this.world.keyboard.SPACE && !this.isAboveGround()) {
                    this.jump();
                }

                /**
                 * detects is abouv ground and plays animation and sound
                 */
                if(this.world.keyboard.SLASH && !this.isAboveGround()) {
                    this.playAnimation(this.IMAGES_SLASHING);
                    this.slash();
                    world.slashSound.play();
                }

                /**
                 * detects is above graound and palys animation slah midair
                 */
                if(this.world.keyboard.SLASH && this.isAboveGround()) {
                    this.playAnimation(this.IMAGES_SLASH_MIDAIR);
                    this.slash();
                    world.slashSound.play();
                }

                /**
                 * detects is above ground and plays animation throw animation
                 */
                if(this.world.keyboard.THROW && !this.isAboveGround()) {
                    if (this.isCool) {
                        this.playAnimation(this.IMAGES_THROW);
                        this.isCool = false;
                        setTimeout(() => {
                            this.isCool = true;
                        }, 1000);
                    }
                }

                /**
                 * dectects is above ground and plays animation throw midair
                 */
                if (this.world.keyboard.THROW && this.isAboveGround()) {
                    if (this.isCool) {
                        this.playAnimation(this.IMAGES_THROW_MIDAIR);
                        this.isCool = false;
                        setTimeout(() => {
                            this.isCool = true;
                         }, 1000);
                    }
                }
                /**
                 * focus camera on character
                 */
                this.world.camera_x = -this.x + 100;
            }, 1000 / 30);
        }
        /**
         * character animation depending on helth satus
         */
        setInterval(() => {
            /**
             * detects if character energy is < 0 / plays dying animation and sound / 
             * triggers game over function
             */
            if(this.isDeadAgain()) {
                if (this.isAlive) {
                    this.playAnimation(this.IMAGES_DYING);
                    world.ouch.play();
                    this.isDead();
                    setTimeout(() => {
                        world.lostGame();
                    }, 500);
                };
                /**
                 * detects if character got demage / plays hurt animation
                 */
            } else if(this.isHurt()) {
                this.playAnimation(this.IMAGES_HURT);
            
                /**
                 * detects if character is abouve ground / play jump an fall animation
                 */
            } else if(this.isAboveGround()) {
                this.playAnimation(this.IMAGES_JUMPING);
                /**
                 * detects if character is moving / play walking animation
                 */
            } else if(this.world.keyboard.RIGHT || this.world.keyboard.LEFT && this.isAboveGround()) {
                    this.playAnimation(this.IMAGES_WALKING);
                /**
                 * play indle animation when no controll input detected
                 */
            } else {
                this.playAnimation(this.IMAGES_IDLE);
            }
        }, 100)
    }
    
    isDead() {
        setTimeout(() => {
            this.isAlive = false;
        }, 1000);
    }
}